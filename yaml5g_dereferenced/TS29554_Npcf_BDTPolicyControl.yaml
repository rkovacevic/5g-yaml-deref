openapi: 3.0.0
info:
  title: Npcf_BDTPolicyControl Service API
  version: 1.0.0
  description: >-
    The Npcf_BDTPolicyControl Service is used by an NF service consumer to
    retrieve background data transfer policies from the PCF and to update the
    PCF with the background data transfer policy selected by the NF service
    consumer.
externalDocs:
  description: >-
    3GPP TS 29.554 V15.2.0; 5G System; Background Data Transfer Policy Control
    Service.
  url: 'http://www.3gpp.org/ftp/Specs/archive/29_series/29.554/'
servers:
  - url: '{apiRoot}/npcf-bdtpolicycontrol/v1'
    variables:
      apiRoot:
        default: 'https://example.com'
        description: apiRoot as defined in subclause 4.4 of 3GPP TS 29.501.
security:
  - {}
  - oAuth2ClientCredentials:
      - npcf-bdtpolicycontrol
paths:
  /bdtpolicies:
    post:
      summary: Create a new Individual BDT policy
      operationId: CreateBDTPolicy
      tags:
        - BDT policies (Collection)
      requestBody:
        description: >-
          Contains information for the creation of a new Individual BDT policy
          resource.
        required: true
        content:
          application/json:
            schema:
              description: >-
                Contains service requirements for creation a new Individual BDT
                policy resource.
              type: object
              required:
                - aspId
                - desTimeInt
                - numOfUes
                - volPerUe
              properties:
                aspId:
                  description: Contains an identity of an application service provider.
                  type: string
                desTimeInt:
                  type: object
                  properties:
                    startTime:
                      type: string
                      description: string with format "date-time" as defined in OpenAPI.
                    stopTime:
                      type: string
                      description: string with format "date-time" as defined in OpenAPI.
                  required:
                    - startTime
                    - stopTime
                nwAreaInfo:
                  description: >-
                    Describes a network area information in which the NF service
                    consumer requests the number of UEs.
                  type: object
                  properties:
                    ecgis:
                      description: Contains a list of E-UTRA cell identities.
                      type: array
                      items:
                        type: object
                        properties:
                          plmnId:
                            type: object
                            properties:
                              mcc:
                                type: string
                                pattern: '^\d{3}$'
                              mnc:
                                type: string
                                pattern: '^\d{2,3}$'
                            required:
                              - mcc
                              - mnc
                          eutraCellId:
                            type: string
                            pattern: '^[A-Fa-f0-9]{7}$'
                        required:
                          - plmnId
                          - eutraCellId
                      minItems: 1
                    ncgis:
                      description: Contains a list of NR cell identities.
                      type: array
                      items:
                        type: object
                        properties:
                          plmnId:
                            type: object
                            properties:
                              mcc:
                                type: string
                                pattern: '^\d{3}$'
                              mnc:
                                type: string
                                pattern: '^\d{2,3}$'
                            required:
                              - mcc
                              - mnc
                          nrCellId:
                            type: string
                            pattern: '^[A-Fa-f0-9]{9}$'
                        required:
                          - plmnId
                          - nrCellId
                      minItems: 1
                    gRanNodeIds:
                      description: Contains a list of NG RAN nodes.
                      type: array
                      items:
                        type: object
                        properties:
                          plmnId:
                            type: object
                            properties:
                              mcc:
                                type: string
                                pattern: '^\d{3}$'
                              mnc:
                                type: string
                                pattern: '^\d{2,3}$'
                            required:
                              - mcc
                              - mnc
                          n3IwfId:
                            type: string
                            pattern: '^[A-Fa-f0-9]+$'
                          gNbId:
                            type: object
                            properties:
                              bitLength:
                                type: integer
                                minimum: 22
                                maximum: 32
                              gNBValue:
                                type: string
                                pattern: '^[A-Fa-f0-9]{6,8}$'
                            required:
                              - bitLength
                              - gNBValue
                          ngeNbId:
                            type: string
                            pattern: >-
                              ^(MacroNGeNB-[A-Fa-f0-9]{5}|LMacroNGeNB-[A-Fa-f0-9]{6}|SMacroNGeNB-[A-Fa-f0-9]{5})$
                        oneOf:
                          - required:
                              - n3IwfId
                          - required:
                              - gNbId
                          - required:
                              - ngeNbId
                        required:
                          - plmnId
                      minItems: 1
                    tais:
                      description: Contains a list of tracking area identities.
                      type: array
                      items:
                        type: object
                        properties:
                          plmnId:
                            type: object
                            properties:
                              mcc:
                                type: string
                                pattern: '^\d{3}$'
                              mnc:
                                type: string
                                pattern: '^\d{2,3}$'
                            required:
                              - mcc
                              - mnc
                          tac:
                            type: string
                            pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                        required:
                          - plmnId
                          - tac
                      minItems: 1
                numOfUes:
                  description: Indicates a number of UEs.
                  type: integer
                volPerUe:
                  type: object
                  properties:
                    duration:
                      type: integer
                      minimum: 0
                      description: >-
                        Unsigned integer identifying a period of time in units
                        of seconds.
                    totalVolume:
                      type: integer
                      format: int64
                      minimum: 0
                      description: Unsigned integer identifying a volume in units of bytes.
                    downlinkVolume:
                      type: integer
                      format: int64
                      minimum: 0
                      description: Unsigned integer identifying a volume in units of bytes.
                    uplinkVolume:
                      type: integer
                      format: int64
                      minimum: 0
                      description: Unsigned integer identifying a volume in units of bytes.
                suppFeat:
                  type: string
                  pattern: '^[A-Fa-f0-9]*$'
      responses:
        '201':
          description: Background data transfer policies offered to an ASP.
          content:
            application/json:
              schema:
                description: Represents an Individual BDT policy resource.
                type: object
                properties:
                  bdtPolData:
                    description: >-
                      Describes the authorization data of an Individual BDT
                      policy resource.
                    type: object
                    required:
                      - bdtRefId
                      - transfPolicies
                    properties:
                      bdtRefId:
                        type: string
                        description: >-
                          string identifying a BDT Reference ID as defined in
                          subclause 5.3.3 of 3GPP TS 29.154.
                      transfPolicies:
                        description: Contains transfer policies.
                        type: array
                        items:
                          description: Describes a transfer policy.
                          type: object
                          required:
                            - ratingGroup
                            - recTimeInt
                            - transPolicyId
                          properties:
                            maxBitRateDl:
                              type: string
                              pattern: ^\d+(\.\d+)? (bps|Kbps|Mbps|Gbps|Tbps)$
                            maxBitRateUl:
                              type: string
                              pattern: ^\d+(\.\d+)? (bps|Kbps|Mbps|Gbps|Tbps)$
                            ratingGroup:
                              description: >-
                                Indicates a rating group for the recommended
                                time window.
                              type: integer
                            recTimeInt:
                              type: object
                              properties:
                                startTime:
                                  type: string
                                  description: >-
                                    string with format "date-time" as defined in
                                    OpenAPI.
                                stopTime:
                                  type: string
                                  description: >-
                                    string with format "date-time" as defined in
                                    OpenAPI.
                              required:
                                - startTime
                                - stopTime
                            transPolicyId:
                              description: Contains an identity of a transfer policy.
                              type: integer
                        minItems: 1
                      selTransPolicyId:
                        description: Contains an identity of the selected transfer policy.
                        type: integer
                      suppFeat:
                        type: string
                        pattern: '^[A-Fa-f0-9]*$'
                  bdtReqData:
                    description: >-
                      Contains service requirements for creation a new
                      Individual BDT policy resource.
                    type: object
                    required:
                      - aspId
                      - desTimeInt
                      - numOfUes
                      - volPerUe
                    properties:
                      aspId:
                        description: >-
                          Contains an identity of an application service
                          provider.
                        type: string
                      desTimeInt:
                        type: object
                        properties:
                          startTime:
                            type: string
                            description: >-
                              string with format "date-time" as defined in
                              OpenAPI.
                          stopTime:
                            type: string
                            description: >-
                              string with format "date-time" as defined in
                              OpenAPI.
                        required:
                          - startTime
                          - stopTime
                      nwAreaInfo:
                        description: >-
                          Describes a network area information in which the NF
                          service consumer requests the number of UEs.
                        type: object
                        properties:
                          ecgis:
                            description: Contains a list of E-UTRA cell identities.
                            type: array
                            items:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                eutraCellId:
                                  type: string
                                  pattern: '^[A-Fa-f0-9]{7}$'
                              required:
                                - plmnId
                                - eutraCellId
                            minItems: 1
                          ncgis:
                            description: Contains a list of NR cell identities.
                            type: array
                            items:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                nrCellId:
                                  type: string
                                  pattern: '^[A-Fa-f0-9]{9}$'
                              required:
                                - plmnId
                                - nrCellId
                            minItems: 1
                          gRanNodeIds:
                            description: Contains a list of NG RAN nodes.
                            type: array
                            items:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                n3IwfId:
                                  type: string
                                  pattern: '^[A-Fa-f0-9]+$'
                                gNbId:
                                  type: object
                                  properties:
                                    bitLength:
                                      type: integer
                                      minimum: 22
                                      maximum: 32
                                    gNBValue:
                                      type: string
                                      pattern: '^[A-Fa-f0-9]{6,8}$'
                                  required:
                                    - bitLength
                                    - gNBValue
                                ngeNbId:
                                  type: string
                                  pattern: >-
                                    ^(MacroNGeNB-[A-Fa-f0-9]{5}|LMacroNGeNB-[A-Fa-f0-9]{6}|SMacroNGeNB-[A-Fa-f0-9]{5})$
                              oneOf:
                                - required:
                                    - n3IwfId
                                - required:
                                    - gNbId
                                - required:
                                    - ngeNbId
                              required:
                                - plmnId
                            minItems: 1
                          tais:
                            description: Contains a list of tracking area identities.
                            type: array
                            items:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                tac:
                                  type: string
                                  pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                              required:
                                - plmnId
                                - tac
                            minItems: 1
                      numOfUes:
                        description: Indicates a number of UEs.
                        type: integer
                      volPerUe:
                        type: object
                        properties:
                          duration:
                            type: integer
                            minimum: 0
                            description: >-
                              Unsigned integer identifying a period of time in
                              units of seconds.
                          totalVolume:
                            type: integer
                            format: int64
                            minimum: 0
                            description: >-
                              Unsigned integer identifying a volume in units of
                              bytes.
                          downlinkVolume:
                            type: integer
                            format: int64
                            minimum: 0
                            description: >-
                              Unsigned integer identifying a volume in units of
                              bytes.
                          uplinkVolume:
                            type: integer
                            format: int64
                            minimum: 0
                            description: >-
                              Unsigned integer identifying a volume in units of
                              bytes.
                      suppFeat:
                        type: string
                        pattern: '^[A-Fa-f0-9]*$'
          headers:
            Location:
              description: >-
                Contains the URI of the created individual BDT policy resource,
                according to the structure:
                {apiRoot}/npcf-bdtpolicycontrol/v1/bdtpolicies/{bdtPolicyId}
              required: true
              schema:
                type: string
        '303':
          description: >-
            See Other. The result of the POST request would be equivalent to the
            existing Individual BDT policy resource. The HTTP response shall
            contain a Location header field set to the URI of the existing
            individual BDT policy resource.
        '400':
          description: Bad request
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '411':
          description: Length Required
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '413':
          description: Payload Too Large
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '415':
          description: Unsupported Media Type
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '429':
          description: Too Many Requests
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '503':
          description: Service Unavailable
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        default:
          description: Generic Error
  '/bdtpolicies/{bdtPolicyId}':
    get:
      summary: Read an Individual BDT policy
      operationId: GetBDTPolicy
      tags:
        - Individual BDT policy (Document)
      parameters:
        - name: bdtPolicyId
          description: String identifying the individual BDT policy resource in the PCF.
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Background data transfer policies offered to and selected by an ASP.
          content:
            application/json:
              schema:
                description: Represents an Individual BDT policy resource.
                type: object
                properties:
                  bdtPolData:
                    description: >-
                      Describes the authorization data of an Individual BDT
                      policy resource.
                    type: object
                    required:
                      - bdtRefId
                      - transfPolicies
                    properties:
                      bdtRefId:
                        type: string
                        description: >-
                          string identifying a BDT Reference ID as defined in
                          subclause 5.3.3 of 3GPP TS 29.154.
                      transfPolicies:
                        description: Contains transfer policies.
                        type: array
                        items:
                          description: Describes a transfer policy.
                          type: object
                          required:
                            - ratingGroup
                            - recTimeInt
                            - transPolicyId
                          properties:
                            maxBitRateDl:
                              type: string
                              pattern: ^\d+(\.\d+)? (bps|Kbps|Mbps|Gbps|Tbps)$
                            maxBitRateUl:
                              type: string
                              pattern: ^\d+(\.\d+)? (bps|Kbps|Mbps|Gbps|Tbps)$
                            ratingGroup:
                              description: >-
                                Indicates a rating group for the recommended
                                time window.
                              type: integer
                            recTimeInt:
                              type: object
                              properties:
                                startTime:
                                  type: string
                                  description: >-
                                    string with format "date-time" as defined in
                                    OpenAPI.
                                stopTime:
                                  type: string
                                  description: >-
                                    string with format "date-time" as defined in
                                    OpenAPI.
                              required:
                                - startTime
                                - stopTime
                            transPolicyId:
                              description: Contains an identity of a transfer policy.
                              type: integer
                        minItems: 1
                      selTransPolicyId:
                        description: Contains an identity of the selected transfer policy.
                        type: integer
                      suppFeat:
                        type: string
                        pattern: '^[A-Fa-f0-9]*$'
                  bdtReqData:
                    description: >-
                      Contains service requirements for creation a new
                      Individual BDT policy resource.
                    type: object
                    required:
                      - aspId
                      - desTimeInt
                      - numOfUes
                      - volPerUe
                    properties:
                      aspId:
                        description: >-
                          Contains an identity of an application service
                          provider.
                        type: string
                      desTimeInt:
                        type: object
                        properties:
                          startTime:
                            type: string
                            description: >-
                              string with format "date-time" as defined in
                              OpenAPI.
                          stopTime:
                            type: string
                            description: >-
                              string with format "date-time" as defined in
                              OpenAPI.
                        required:
                          - startTime
                          - stopTime
                      nwAreaInfo:
                        description: >-
                          Describes a network area information in which the NF
                          service consumer requests the number of UEs.
                        type: object
                        properties:
                          ecgis:
                            description: Contains a list of E-UTRA cell identities.
                            type: array
                            items:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                eutraCellId:
                                  type: string
                                  pattern: '^[A-Fa-f0-9]{7}$'
                              required:
                                - plmnId
                                - eutraCellId
                            minItems: 1
                          ncgis:
                            description: Contains a list of NR cell identities.
                            type: array
                            items:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                nrCellId:
                                  type: string
                                  pattern: '^[A-Fa-f0-9]{9}$'
                              required:
                                - plmnId
                                - nrCellId
                            minItems: 1
                          gRanNodeIds:
                            description: Contains a list of NG RAN nodes.
                            type: array
                            items:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                n3IwfId:
                                  type: string
                                  pattern: '^[A-Fa-f0-9]+$'
                                gNbId:
                                  type: object
                                  properties:
                                    bitLength:
                                      type: integer
                                      minimum: 22
                                      maximum: 32
                                    gNBValue:
                                      type: string
                                      pattern: '^[A-Fa-f0-9]{6,8}$'
                                  required:
                                    - bitLength
                                    - gNBValue
                                ngeNbId:
                                  type: string
                                  pattern: >-
                                    ^(MacroNGeNB-[A-Fa-f0-9]{5}|LMacroNGeNB-[A-Fa-f0-9]{6}|SMacroNGeNB-[A-Fa-f0-9]{5})$
                              oneOf:
                                - required:
                                    - n3IwfId
                                - required:
                                    - gNbId
                                - required:
                                    - ngeNbId
                              required:
                                - plmnId
                            minItems: 1
                          tais:
                            description: Contains a list of tracking area identities.
                            type: array
                            items:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                tac:
                                  type: string
                                  pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                              required:
                                - plmnId
                                - tac
                            minItems: 1
                      numOfUes:
                        description: Indicates a number of UEs.
                        type: integer
                      volPerUe:
                        type: object
                        properties:
                          duration:
                            type: integer
                            minimum: 0
                            description: >-
                              Unsigned integer identifying a period of time in
                              units of seconds.
                          totalVolume:
                            type: integer
                            format: int64
                            minimum: 0
                            description: >-
                              Unsigned integer identifying a volume in units of
                              bytes.
                          downlinkVolume:
                            type: integer
                            format: int64
                            minimum: 0
                            description: >-
                              Unsigned integer identifying a volume in units of
                              bytes.
                          uplinkVolume:
                            type: integer
                            format: int64
                            minimum: 0
                            description: >-
                              Unsigned integer identifying a volume in units of
                              bytes.
                      suppFeat:
                        type: string
                        pattern: '^[A-Fa-f0-9]*$'
        '400':
          description: Bad request
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '406':
          description: 406 Not Acceptable
        '429':
          description: Too Many Requests
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '503':
          description: Service Unavailable
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        default:
          description: Generic Error
    patch:
      summary: Update an Individual BDT policy
      operationId: UpdateBDTPolicy
      tags:
        - Individual BDT policy (Document)
      parameters:
        - name: bdtPolicyId
          description: String identifying the individual BDT policy resource in the PCF.
          in: path
          required: true
          schema:
            type: string
      requestBody:
        description: >-
          Contains modification instruction to be performed on the BdtPolicy
          data structure to select a transfer policy.
        required: true
        content:
          application/merge-patch+json:
            schema:
              description: >-
                A JSON Merge Patch body schema containing modification
                instruction to be performed on the BdtPolicy data structure to
                select a transfer policy. Adds selTransPolicyId to BdtPolicyData
                data structure.
              type: object
              required:
                - selTransPolicyId
              properties:
                selTransPolicyId:
                  description: >-
                    Contains an identity (i.e. transPolicyId value) of the
                    selected transfer policy.
                  type: integer
      responses:
        '200':
          description: >-
            The Individual BDT Policy resource is modified and a representation
            of that resource is returned.
          content:
            application/json:
              schema:
                description: Represents an Individual BDT policy resource.
                type: object
                properties:
                  bdtPolData:
                    description: >-
                      Describes the authorization data of an Individual BDT
                      policy resource.
                    type: object
                    required:
                      - bdtRefId
                      - transfPolicies
                    properties:
                      bdtRefId:
                        type: string
                        description: >-
                          string identifying a BDT Reference ID as defined in
                          subclause 5.3.3 of 3GPP TS 29.154.
                      transfPolicies:
                        description: Contains transfer policies.
                        type: array
                        items:
                          description: Describes a transfer policy.
                          type: object
                          required:
                            - ratingGroup
                            - recTimeInt
                            - transPolicyId
                          properties:
                            maxBitRateDl:
                              type: string
                              pattern: ^\d+(\.\d+)? (bps|Kbps|Mbps|Gbps|Tbps)$
                            maxBitRateUl:
                              type: string
                              pattern: ^\d+(\.\d+)? (bps|Kbps|Mbps|Gbps|Tbps)$
                            ratingGroup:
                              description: >-
                                Indicates a rating group for the recommended
                                time window.
                              type: integer
                            recTimeInt:
                              type: object
                              properties:
                                startTime:
                                  type: string
                                  description: >-
                                    string with format "date-time" as defined in
                                    OpenAPI.
                                stopTime:
                                  type: string
                                  description: >-
                                    string with format "date-time" as defined in
                                    OpenAPI.
                              required:
                                - startTime
                                - stopTime
                            transPolicyId:
                              description: Contains an identity of a transfer policy.
                              type: integer
                        minItems: 1
                      selTransPolicyId:
                        description: Contains an identity of the selected transfer policy.
                        type: integer
                      suppFeat:
                        type: string
                        pattern: '^[A-Fa-f0-9]*$'
                  bdtReqData:
                    description: >-
                      Contains service requirements for creation a new
                      Individual BDT policy resource.
                    type: object
                    required:
                      - aspId
                      - desTimeInt
                      - numOfUes
                      - volPerUe
                    properties:
                      aspId:
                        description: >-
                          Contains an identity of an application service
                          provider.
                        type: string
                      desTimeInt:
                        type: object
                        properties:
                          startTime:
                            type: string
                            description: >-
                              string with format "date-time" as defined in
                              OpenAPI.
                          stopTime:
                            type: string
                            description: >-
                              string with format "date-time" as defined in
                              OpenAPI.
                        required:
                          - startTime
                          - stopTime
                      nwAreaInfo:
                        description: >-
                          Describes a network area information in which the NF
                          service consumer requests the number of UEs.
                        type: object
                        properties:
                          ecgis:
                            description: Contains a list of E-UTRA cell identities.
                            type: array
                            items:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                eutraCellId:
                                  type: string
                                  pattern: '^[A-Fa-f0-9]{7}$'
                              required:
                                - plmnId
                                - eutraCellId
                            minItems: 1
                          ncgis:
                            description: Contains a list of NR cell identities.
                            type: array
                            items:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                nrCellId:
                                  type: string
                                  pattern: '^[A-Fa-f0-9]{9}$'
                              required:
                                - plmnId
                                - nrCellId
                            minItems: 1
                          gRanNodeIds:
                            description: Contains a list of NG RAN nodes.
                            type: array
                            items:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                n3IwfId:
                                  type: string
                                  pattern: '^[A-Fa-f0-9]+$'
                                gNbId:
                                  type: object
                                  properties:
                                    bitLength:
                                      type: integer
                                      minimum: 22
                                      maximum: 32
                                    gNBValue:
                                      type: string
                                      pattern: '^[A-Fa-f0-9]{6,8}$'
                                  required:
                                    - bitLength
                                    - gNBValue
                                ngeNbId:
                                  type: string
                                  pattern: >-
                                    ^(MacroNGeNB-[A-Fa-f0-9]{5}|LMacroNGeNB-[A-Fa-f0-9]{6}|SMacroNGeNB-[A-Fa-f0-9]{5})$
                              oneOf:
                                - required:
                                    - n3IwfId
                                - required:
                                    - gNbId
                                - required:
                                    - ngeNbId
                              required:
                                - plmnId
                            minItems: 1
                          tais:
                            description: Contains a list of tracking area identities.
                            type: array
                            items:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                tac:
                                  type: string
                                  pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                              required:
                                - plmnId
                                - tac
                            minItems: 1
                      numOfUes:
                        description: Indicates a number of UEs.
                        type: integer
                      volPerUe:
                        type: object
                        properties:
                          duration:
                            type: integer
                            minimum: 0
                            description: >-
                              Unsigned integer identifying a period of time in
                              units of seconds.
                          totalVolume:
                            type: integer
                            format: int64
                            minimum: 0
                            description: >-
                              Unsigned integer identifying a volume in units of
                              bytes.
                          downlinkVolume:
                            type: integer
                            format: int64
                            minimum: 0
                            description: >-
                              Unsigned integer identifying a volume in units of
                              bytes.
                          uplinkVolume:
                            type: integer
                            format: int64
                            minimum: 0
                            description: >-
                              Unsigned integer identifying a volume in units of
                              bytes.
                      suppFeat:
                        type: string
                        pattern: '^[A-Fa-f0-9]*$'
        '204':
          description: The Individual BDT Policy resource is modified.
        '400':
          description: Bad request
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '411':
          description: Length Required
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '413':
          description: Payload Too Large
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '415':
          description: Unsupported Media Type
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '429':
          description: Too Many Requests
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '503':
          description: Service Unavailable
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        default:
          description: Generic Error
components:
  securitySchemes:
    oAuth2ClientCredentials:
      type: oauth2
      flows:
        clientCredentials:
          tokenUrl: '{nrfApiRoot}/oauth2/token'
          scopes:
            npcf-bdtpolicycontrol: Access to the Npcf_BDTPolicyControl API
  schemas:
    BdtPolicy:
      description: Represents an Individual BDT policy resource.
      type: object
      properties:
        bdtPolData:
          description: >-
            Describes the authorization data of an Individual BDT policy
            resource.
          type: object
          required:
            - bdtRefId
            - transfPolicies
          properties:
            bdtRefId:
              type: string
              description: >-
                string identifying a BDT Reference ID as defined in subclause
                5.3.3 of 3GPP TS 29.154.
            transfPolicies:
              description: Contains transfer policies.
              type: array
              items:
                description: Describes a transfer policy.
                type: object
                required:
                  - ratingGroup
                  - recTimeInt
                  - transPolicyId
                properties:
                  maxBitRateDl:
                    type: string
                    pattern: ^\d+(\.\d+)? (bps|Kbps|Mbps|Gbps|Tbps)$
                  maxBitRateUl:
                    type: string
                    pattern: ^\d+(\.\d+)? (bps|Kbps|Mbps|Gbps|Tbps)$
                  ratingGroup:
                    description: Indicates a rating group for the recommended time window.
                    type: integer
                  recTimeInt:
                    type: object
                    properties:
                      startTime:
                        type: string
                        description: string with format "date-time" as defined in OpenAPI.
                      stopTime:
                        type: string
                        description: string with format "date-time" as defined in OpenAPI.
                    required:
                      - startTime
                      - stopTime
                  transPolicyId:
                    description: Contains an identity of a transfer policy.
                    type: integer
              minItems: 1
            selTransPolicyId:
              description: Contains an identity of the selected transfer policy.
              type: integer
            suppFeat:
              type: string
              pattern: '^[A-Fa-f0-9]*$'
        bdtReqData:
          description: >-
            Contains service requirements for creation a new Individual BDT
            policy resource.
          type: object
          required:
            - aspId
            - desTimeInt
            - numOfUes
            - volPerUe
          properties:
            aspId:
              description: Contains an identity of an application service provider.
              type: string
            desTimeInt:
              type: object
              properties:
                startTime:
                  type: string
                  description: string with format "date-time" as defined in OpenAPI.
                stopTime:
                  type: string
                  description: string with format "date-time" as defined in OpenAPI.
              required:
                - startTime
                - stopTime
            nwAreaInfo:
              description: >-
                Describes a network area information in which the NF service
                consumer requests the number of UEs.
              type: object
              properties:
                ecgis:
                  description: Contains a list of E-UTRA cell identities.
                  type: array
                  items:
                    type: object
                    properties:
                      plmnId:
                        type: object
                        properties:
                          mcc:
                            type: string
                            pattern: '^\d{3}$'
                          mnc:
                            type: string
                            pattern: '^\d{2,3}$'
                        required:
                          - mcc
                          - mnc
                      eutraCellId:
                        type: string
                        pattern: '^[A-Fa-f0-9]{7}$'
                    required:
                      - plmnId
                      - eutraCellId
                  minItems: 1
                ncgis:
                  description: Contains a list of NR cell identities.
                  type: array
                  items:
                    type: object
                    properties:
                      plmnId:
                        type: object
                        properties:
                          mcc:
                            type: string
                            pattern: '^\d{3}$'
                          mnc:
                            type: string
                            pattern: '^\d{2,3}$'
                        required:
                          - mcc
                          - mnc
                      nrCellId:
                        type: string
                        pattern: '^[A-Fa-f0-9]{9}$'
                    required:
                      - plmnId
                      - nrCellId
                  minItems: 1
                gRanNodeIds:
                  description: Contains a list of NG RAN nodes.
                  type: array
                  items:
                    type: object
                    properties:
                      plmnId:
                        type: object
                        properties:
                          mcc:
                            type: string
                            pattern: '^\d{3}$'
                          mnc:
                            type: string
                            pattern: '^\d{2,3}$'
                        required:
                          - mcc
                          - mnc
                      n3IwfId:
                        type: string
                        pattern: '^[A-Fa-f0-9]+$'
                      gNbId:
                        type: object
                        properties:
                          bitLength:
                            type: integer
                            minimum: 22
                            maximum: 32
                          gNBValue:
                            type: string
                            pattern: '^[A-Fa-f0-9]{6,8}$'
                        required:
                          - bitLength
                          - gNBValue
                      ngeNbId:
                        type: string
                        pattern: >-
                          ^(MacroNGeNB-[A-Fa-f0-9]{5}|LMacroNGeNB-[A-Fa-f0-9]{6}|SMacroNGeNB-[A-Fa-f0-9]{5})$
                    oneOf:
                      - required:
                          - n3IwfId
                      - required:
                          - gNbId
                      - required:
                          - ngeNbId
                    required:
                      - plmnId
                  minItems: 1
                tais:
                  description: Contains a list of tracking area identities.
                  type: array
                  items:
                    type: object
                    properties:
                      plmnId:
                        type: object
                        properties:
                          mcc:
                            type: string
                            pattern: '^\d{3}$'
                          mnc:
                            type: string
                            pattern: '^\d{2,3}$'
                        required:
                          - mcc
                          - mnc
                      tac:
                        type: string
                        pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                    required:
                      - plmnId
                      - tac
                  minItems: 1
            numOfUes:
              description: Indicates a number of UEs.
              type: integer
            volPerUe:
              type: object
              properties:
                duration:
                  type: integer
                  minimum: 0
                  description: >-
                    Unsigned integer identifying a period of time in units of
                    seconds.
                totalVolume:
                  type: integer
                  format: int64
                  minimum: 0
                  description: Unsigned integer identifying a volume in units of bytes.
                downlinkVolume:
                  type: integer
                  format: int64
                  minimum: 0
                  description: Unsigned integer identifying a volume in units of bytes.
                uplinkVolume:
                  type: integer
                  format: int64
                  minimum: 0
                  description: Unsigned integer identifying a volume in units of bytes.
            suppFeat:
              type: string
              pattern: '^[A-Fa-f0-9]*$'
    BdtReqData:
      description: >-
        Contains service requirements for creation a new Individual BDT policy
        resource.
      type: object
      required:
        - aspId
        - desTimeInt
        - numOfUes
        - volPerUe
      properties:
        aspId:
          description: Contains an identity of an application service provider.
          type: string
        desTimeInt:
          type: object
          properties:
            startTime:
              type: string
              description: string with format "date-time" as defined in OpenAPI.
            stopTime:
              type: string
              description: string with format "date-time" as defined in OpenAPI.
          required:
            - startTime
            - stopTime
        nwAreaInfo:
          description: >-
            Describes a network area information in which the NF service
            consumer requests the number of UEs.
          type: object
          properties:
            ecgis:
              description: Contains a list of E-UTRA cell identities.
              type: array
              items:
                type: object
                properties:
                  plmnId:
                    type: object
                    properties:
                      mcc:
                        type: string
                        pattern: '^\d{3}$'
                      mnc:
                        type: string
                        pattern: '^\d{2,3}$'
                    required:
                      - mcc
                      - mnc
                  eutraCellId:
                    type: string
                    pattern: '^[A-Fa-f0-9]{7}$'
                required:
                  - plmnId
                  - eutraCellId
              minItems: 1
            ncgis:
              description: Contains a list of NR cell identities.
              type: array
              items:
                type: object
                properties:
                  plmnId:
                    type: object
                    properties:
                      mcc:
                        type: string
                        pattern: '^\d{3}$'
                      mnc:
                        type: string
                        pattern: '^\d{2,3}$'
                    required:
                      - mcc
                      - mnc
                  nrCellId:
                    type: string
                    pattern: '^[A-Fa-f0-9]{9}$'
                required:
                  - plmnId
                  - nrCellId
              minItems: 1
            gRanNodeIds:
              description: Contains a list of NG RAN nodes.
              type: array
              items:
                type: object
                properties:
                  plmnId:
                    type: object
                    properties:
                      mcc:
                        type: string
                        pattern: '^\d{3}$'
                      mnc:
                        type: string
                        pattern: '^\d{2,3}$'
                    required:
                      - mcc
                      - mnc
                  n3IwfId:
                    type: string
                    pattern: '^[A-Fa-f0-9]+$'
                  gNbId:
                    type: object
                    properties:
                      bitLength:
                        type: integer
                        minimum: 22
                        maximum: 32
                      gNBValue:
                        type: string
                        pattern: '^[A-Fa-f0-9]{6,8}$'
                    required:
                      - bitLength
                      - gNBValue
                  ngeNbId:
                    type: string
                    pattern: >-
                      ^(MacroNGeNB-[A-Fa-f0-9]{5}|LMacroNGeNB-[A-Fa-f0-9]{6}|SMacroNGeNB-[A-Fa-f0-9]{5})$
                oneOf:
                  - required:
                      - n3IwfId
                  - required:
                      - gNbId
                  - required:
                      - ngeNbId
                required:
                  - plmnId
              minItems: 1
            tais:
              description: Contains a list of tracking area identities.
              type: array
              items:
                type: object
                properties:
                  plmnId:
                    type: object
                    properties:
                      mcc:
                        type: string
                        pattern: '^\d{3}$'
                      mnc:
                        type: string
                        pattern: '^\d{2,3}$'
                    required:
                      - mcc
                      - mnc
                  tac:
                    type: string
                    pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                required:
                  - plmnId
                  - tac
              minItems: 1
        numOfUes:
          description: Indicates a number of UEs.
          type: integer
        volPerUe:
          type: object
          properties:
            duration:
              type: integer
              minimum: 0
              description: >-
                Unsigned integer identifying a period of time in units of
                seconds.
            totalVolume:
              type: integer
              format: int64
              minimum: 0
              description: Unsigned integer identifying a volume in units of bytes.
            downlinkVolume:
              type: integer
              format: int64
              minimum: 0
              description: Unsigned integer identifying a volume in units of bytes.
            uplinkVolume:
              type: integer
              format: int64
              minimum: 0
              description: Unsigned integer identifying a volume in units of bytes.
        suppFeat:
          type: string
          pattern: '^[A-Fa-f0-9]*$'
    BdtPolicyData:
      description: Describes the authorization data of an Individual BDT policy resource.
      type: object
      required:
        - bdtRefId
        - transfPolicies
      properties:
        bdtRefId:
          type: string
          description: >-
            string identifying a BDT Reference ID as defined in subclause 5.3.3
            of 3GPP TS 29.154.
        transfPolicies:
          description: Contains transfer policies.
          type: array
          items:
            description: Describes a transfer policy.
            type: object
            required:
              - ratingGroup
              - recTimeInt
              - transPolicyId
            properties:
              maxBitRateDl:
                type: string
                pattern: ^\d+(\.\d+)? (bps|Kbps|Mbps|Gbps|Tbps)$
              maxBitRateUl:
                type: string
                pattern: ^\d+(\.\d+)? (bps|Kbps|Mbps|Gbps|Tbps)$
              ratingGroup:
                description: Indicates a rating group for the recommended time window.
                type: integer
              recTimeInt:
                type: object
                properties:
                  startTime:
                    type: string
                    description: string with format "date-time" as defined in OpenAPI.
                  stopTime:
                    type: string
                    description: string with format "date-time" as defined in OpenAPI.
                required:
                  - startTime
                  - stopTime
              transPolicyId:
                description: Contains an identity of a transfer policy.
                type: integer
          minItems: 1
        selTransPolicyId:
          description: Contains an identity of the selected transfer policy.
          type: integer
        suppFeat:
          type: string
          pattern: '^[A-Fa-f0-9]*$'
    BdtPolicyDataPatch:
      description: >-
        A JSON Merge Patch body schema containing modification instruction to be
        performed on the BdtPolicy data structure to select a transfer policy.
        Adds selTransPolicyId to BdtPolicyData data structure.
      type: object
      required:
        - selTransPolicyId
      properties:
        selTransPolicyId:
          description: >-
            Contains an identity (i.e. transPolicyId value) of the selected
            transfer policy.
          type: integer
    TransferPolicy:
      description: Describes a transfer policy.
      type: object
      required:
        - ratingGroup
        - recTimeInt
        - transPolicyId
      properties:
        maxBitRateDl:
          type: string
          pattern: ^\d+(\.\d+)? (bps|Kbps|Mbps|Gbps|Tbps)$
        maxBitRateUl:
          type: string
          pattern: ^\d+(\.\d+)? (bps|Kbps|Mbps|Gbps|Tbps)$
        ratingGroup:
          description: Indicates a rating group for the recommended time window.
          type: integer
        recTimeInt:
          type: object
          properties:
            startTime:
              type: string
              description: string with format "date-time" as defined in OpenAPI.
            stopTime:
              type: string
              description: string with format "date-time" as defined in OpenAPI.
          required:
            - startTime
            - stopTime
        transPolicyId:
          description: Contains an identity of a transfer policy.
          type: integer
    NetworkAreaInfo:
      description: >-
        Describes a network area information in which the NF service consumer
        requests the number of UEs.
      type: object
      properties:
        ecgis:
          description: Contains a list of E-UTRA cell identities.
          type: array
          items:
            type: object
            properties:
              plmnId:
                type: object
                properties:
                  mcc:
                    type: string
                    pattern: '^\d{3}$'
                  mnc:
                    type: string
                    pattern: '^\d{2,3}$'
                required:
                  - mcc
                  - mnc
              eutraCellId:
                type: string
                pattern: '^[A-Fa-f0-9]{7}$'
            required:
              - plmnId
              - eutraCellId
          minItems: 1
        ncgis:
          description: Contains a list of NR cell identities.
          type: array
          items:
            type: object
            properties:
              plmnId:
                type: object
                properties:
                  mcc:
                    type: string
                    pattern: '^\d{3}$'
                  mnc:
                    type: string
                    pattern: '^\d{2,3}$'
                required:
                  - mcc
                  - mnc
              nrCellId:
                type: string
                pattern: '^[A-Fa-f0-9]{9}$'
            required:
              - plmnId
              - nrCellId
          minItems: 1
        gRanNodeIds:
          description: Contains a list of NG RAN nodes.
          type: array
          items:
            type: object
            properties:
              plmnId:
                type: object
                properties:
                  mcc:
                    type: string
                    pattern: '^\d{3}$'
                  mnc:
                    type: string
                    pattern: '^\d{2,3}$'
                required:
                  - mcc
                  - mnc
              n3IwfId:
                type: string
                pattern: '^[A-Fa-f0-9]+$'
              gNbId:
                type: object
                properties:
                  bitLength:
                    type: integer
                    minimum: 22
                    maximum: 32
                  gNBValue:
                    type: string
                    pattern: '^[A-Fa-f0-9]{6,8}$'
                required:
                  - bitLength
                  - gNBValue
              ngeNbId:
                type: string
                pattern: >-
                  ^(MacroNGeNB-[A-Fa-f0-9]{5}|LMacroNGeNB-[A-Fa-f0-9]{6}|SMacroNGeNB-[A-Fa-f0-9]{5})$
            oneOf:
              - required:
                  - n3IwfId
              - required:
                  - gNbId
              - required:
                  - ngeNbId
            required:
              - plmnId
          minItems: 1
        tais:
          description: Contains a list of tracking area identities.
          type: array
          items:
            type: object
            properties:
              plmnId:
                type: object
                properties:
                  mcc:
                    type: string
                    pattern: '^\d{3}$'
                  mnc:
                    type: string
                    pattern: '^\d{2,3}$'
                required:
                  - mcc
                  - mnc
              tac:
                type: string
                pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
            required:
              - plmnId
              - tac
          minItems: 1
    AspId:
      description: Contains an identity of an application service provider.
      type: string
