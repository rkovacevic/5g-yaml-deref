openapi: 3.0.0
info:
  title: Nnef_PFDmanagement Sevice API
  version: 1.0.0
  description: Packet Flow Description Management Service
externalDocs:
  description: >-
    3GPP TS 29.551 v15.3.0, 5G System; Packet Flow Description Management
    Service
  url: 'http://www.3gpp.org/ftp/Specs/archive/29_series/29.551/'
servers:
  - url: '{apiRoot}/nnef-pfdmanagement/v1'
    variables:
      apiRoot:
        default: 'https://example.com'
        description: apiRoot as defined in subclause 4.4 of 3GPP TS 29.501
security:
  - {}
  - oAuth2ClientCredentials:
      - nnef-pfdmanagement
paths:
  /applications:
    get:
      summary: >-
        Retrieve PFDs for all applications or for one or multiple applications
        with query parameter.
      tags:
        - PFD of applications
      operationId: Nnef_PFDmanagement_Fetch
      parameters:
        - name: application-ids
          description: The required application identifier(s) for the returned PFDs.
          in: query
          required: true
          schema:
            type: array
            items:
              type: string
            minItems: 1
        - name: supported-features
          in: query
          description: To filter irrelevant responses related to unsupported features
          schema:
            type: string
            pattern: '^[A-Fa-f0-9]*$'
      responses:
        '200':
          description: >-
            The PFDs for one or more application identifier(s) in the request
            URI are returned.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    applicationId:
                      type: string
                    pfds:
                      type: array
                      items:
                        type: object
                        properties:
                          pfdId:
                            type: string
                            description: Identifies a PDF of an application identifier.
                          flowDescriptions:
                            type: array
                            items:
                              type: string
                            minItems: 1
                            description: >-
                              Represents a 3-tuple with protocol, server ip and
                              server port for UL/DL application traffic.
                          urls:
                            type: array
                            items:
                              type: string
                            minItems: 1
                            description: >-
                              Indicates a URL or a regular expression which is
                              used to match the significant parts of the URL.
                          domainNames:
                            type: array
                            items:
                              type: string
                            minItems: 1
                            description: >-
                              Indicates an FQDN or a regular expression as a
                              domain name matching criteria.
                      minItems: 1
                    cachingTime:
                      format: date-time
                      type: string
                  required:
                    - applicationId
                    - pfds
                minItems: 0
        '400':
          description: Bad request
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '406':
          description: 406 Not Acceptable
        '414':
          description: URI Too Long
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '429':
          description: Too Many Requests
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '503':
          description: Service Unavailable
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
  '/applications/{appId}':
    get:
      summary: Retrieve the PFD for an application.
      tags:
        - Individual application PFD
      operationId: Nnef_PFDmanagement_Fetch
      parameters:
        - name: appId
          description: The required application identifier(s) for the returned PFDs.
          in: path
          required: true
          schema:
            type: string
        - name: supported-features
          in: query
          description: To filter irrelevant responses related to unsupported features
          schema:
            type: string
            pattern: '^[A-Fa-f0-9]*$'
      responses:
        '200':
          description: >-
            A representation of PFDs for an application in the request URI is
            returned.
          content:
            application/json:
              schema:
                type: object
                properties:
                  applicationId:
                    type: string
                  pfds:
                    type: array
                    items:
                      type: object
                      properties:
                        pfdId:
                          type: string
                          description: Identifies a PDF of an application identifier.
                        flowDescriptions:
                          type: array
                          items:
                            type: string
                          minItems: 1
                          description: >-
                            Represents a 3-tuple with protocol, server ip and
                            server port for UL/DL application traffic.
                        urls:
                          type: array
                          items:
                            type: string
                          minItems: 1
                          description: >-
                            Indicates a URL or a regular expression which is
                            used to match the significant parts of the URL.
                        domainNames:
                          type: array
                          items:
                            type: string
                          minItems: 1
                          description: >-
                            Indicates an FQDN or a regular expression as a
                            domain name matching criteria.
                    minItems: 1
                  cachingTime:
                    format: date-time
                    type: string
                required:
                  - applicationId
                  - pfds
        '400':
          description: Bad request
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '406':
          description: 406 Not Acceptable
        '414':
          description: URI Too Long
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '429':
          description: Too Many Requests
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '503':
          description: Service Unavailable
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
  /subscriptions:
    post:
      summary: Subscribe the notification of PFD changes.
      tags:
        - PFD subscriptions
      operationId: Nnef_PFDmanagement_Subscribe
      requestBody:
        description: a PfdSubscription resource to be created.
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                applicationIds:
                  type: array
                  items:
                    type: string
                  minItems: 1
                notifyUri:
                  type: string
                supportedFeatures:
                  type: string
                  pattern: '^[A-Fa-f0-9]*$'
              required:
                - notifyUri
                - supportedFeatures
      callbacks:
        PfdChangeNotification:
          '{request.body#/notifyUri}':
            post:
              summary: Notification of PFD change.
              tags:
                - PfdChangeNotification data
              operationId: Nnef_PFDmanagement_Notify
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      type: array
                      items:
                        type: object
                        properties:
                          applicationId:
                            type: string
                          removalFlag:
                            type: boolean
                            default: false
                          partialFlag:
                            type: boolean
                            default: false
                          pfds:
                            type: array
                            items:
                              type: object
                              properties:
                                pfdId:
                                  type: string
                                  description: >-
                                    Identifies a PDF of an application
                                    identifier.
                                flowDescriptions:
                                  type: array
                                  items:
                                    type: string
                                  minItems: 1
                                  description: >-
                                    Represents a 3-tuple with protocol, server
                                    ip and server port for UL/DL application
                                    traffic.
                                urls:
                                  type: array
                                  items:
                                    type: string
                                  minItems: 1
                                  description: >-
                                    Indicates a URL or a regular expression
                                    which is used to match the significant parts
                                    of the URL.
                                domainNames:
                                  type: array
                                  items:
                                    type: string
                                  minItems: 1
                                  description: >-
                                    Indicates an FQDN or a regular expression as
                                    a domain name matching criteria.
                            minItems: 1
                        required:
                          - applicationId
                      minItems: 1
              responses:
                '200':
                  description: >-
                    The PFD operation in the notification is performed and the
                    PfdChangeReport indicates failure reason.
                  content:
                    application/json:
                      schema:
                        type: array
                        items:
                          type: object
                          properties:
                            pfdError:
                              type: object
                              properties:
                                type:
                                  type: string
                                title:
                                  type: string
                                status:
                                  type: integer
                                detail:
                                  type: string
                                instance:
                                  type: string
                                cause:
                                  type: string
                                invalidParams:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      param:
                                        type: string
                                      reason:
                                        type: string
                                    required:
                                      - param
                                  minItems: 1
                            applicationId:
                              type: array
                              items:
                                type: string
                              minItems: 1
                          required:
                            - pfdError
                            - applicationId
                        minItems: 1
                '204':
                  description: >-
                    The PFD operation in the notification is performed
                    successfully.
                '400':
                  description: Bad request
                  content:
                    application/problem+json:
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          title:
                            type: string
                          status:
                            type: integer
                          detail:
                            type: string
                          instance:
                            type: string
                          cause:
                            type: string
                          invalidParams:
                            type: array
                            items:
                              type: object
                              properties:
                                param:
                                  type: string
                                reason:
                                  type: string
                              required:
                                - param
                            minItems: 1
                '401':
                  description: Unauthorized
                  content:
                    application/problem+json:
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          title:
                            type: string
                          status:
                            type: integer
                          detail:
                            type: string
                          instance:
                            type: string
                          cause:
                            type: string
                          invalidParams:
                            type: array
                            items:
                              type: object
                              properties:
                                param:
                                  type: string
                                reason:
                                  type: string
                              required:
                                - param
                            minItems: 1
                '403':
                  description: Forbidden
                  content:
                    application/problem+json:
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          title:
                            type: string
                          status:
                            type: integer
                          detail:
                            type: string
                          instance:
                            type: string
                          cause:
                            type: string
                          invalidParams:
                            type: array
                            items:
                              type: object
                              properties:
                                param:
                                  type: string
                                reason:
                                  type: string
                              required:
                                - param
                            minItems: 1
                '404':
                  description: Not Found
                  content:
                    application/problem+json:
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          title:
                            type: string
                          status:
                            type: integer
                          detail:
                            type: string
                          instance:
                            type: string
                          cause:
                            type: string
                          invalidParams:
                            type: array
                            items:
                              type: object
                              properties:
                                param:
                                  type: string
                                reason:
                                  type: string
                              required:
                                - param
                            minItems: 1
                '411':
                  description: Length Required
                  content:
                    application/problem+json:
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          title:
                            type: string
                          status:
                            type: integer
                          detail:
                            type: string
                          instance:
                            type: string
                          cause:
                            type: string
                          invalidParams:
                            type: array
                            items:
                              type: object
                              properties:
                                param:
                                  type: string
                                reason:
                                  type: string
                              required:
                                - param
                            minItems: 1
                '413':
                  description: Payload Too Large
                  content:
                    application/problem+json:
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          title:
                            type: string
                          status:
                            type: integer
                          detail:
                            type: string
                          instance:
                            type: string
                          cause:
                            type: string
                          invalidParams:
                            type: array
                            items:
                              type: object
                              properties:
                                param:
                                  type: string
                                reason:
                                  type: string
                              required:
                                - param
                            minItems: 1
                '415':
                  description: Unsupported Media Type
                  content:
                    application/problem+json:
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          title:
                            type: string
                          status:
                            type: integer
                          detail:
                            type: string
                          instance:
                            type: string
                          cause:
                            type: string
                          invalidParams:
                            type: array
                            items:
                              type: object
                              properties:
                                param:
                                  type: string
                                reason:
                                  type: string
                              required:
                                - param
                            minItems: 1
                '429':
                  description: Too Many Requests
                  content:
                    application/problem+json:
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          title:
                            type: string
                          status:
                            type: integer
                          detail:
                            type: string
                          instance:
                            type: string
                          cause:
                            type: string
                          invalidParams:
                            type: array
                            items:
                              type: object
                              properties:
                                param:
                                  type: string
                                reason:
                                  type: string
                              required:
                                - param
                            minItems: 1
                '500':
                  description: Internal Server Error
                  content:
                    application/problem+json:
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          title:
                            type: string
                          status:
                            type: integer
                          detail:
                            type: string
                          instance:
                            type: string
                          cause:
                            type: string
                          invalidParams:
                            type: array
                            items:
                              type: object
                              properties:
                                param:
                                  type: string
                                reason:
                                  type: string
                              required:
                                - param
                            minItems: 1
                '503':
                  description: Service Unavailable
                  content:
                    application/problem+json:
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          title:
                            type: string
                          status:
                            type: integer
                          detail:
                            type: string
                          instance:
                            type: string
                          cause:
                            type: string
                          invalidParams:
                            type: array
                            items:
                              type: object
                              properties:
                                param:
                                  type: string
                                reason:
                                  type: string
                              required:
                                - param
                            minItems: 1
      responses:
        '201':
          description: >-
            The creation of a PfdSubscription resource is confirmed and a
            representation of that resource is returned.
          content:
            application/json:
              schema:
                type: object
                properties:
                  applicationIds:
                    type: array
                    items:
                      type: string
                    minItems: 1
                  notifyUri:
                    type: string
                  supportedFeatures:
                    type: string
                    pattern: '^[A-Fa-f0-9]*$'
                required:
                  - notifyUri
                  - supportedFeatures
          headers:
            Location:
              description: >-
                Contains the URI of the newly created resource, according to the
                structure:
                {apiRoot}/nnef-pfdmanagement/v1/subscriptions/{subscriptionId}
              required: true
              schema:
                type: string
        '400':
          description: Bad request
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '411':
          description: Length Required
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '413':
          description: Payload Too Large
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '415':
          description: Unsupported Media Type
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '429':
          description: Too Many Requests
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '503':
          description: Service Unavailable
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
  '/subscriptions/{subscriptionId}':
    delete:
      summary: Delete a subscription of PFD change notification.
      tags:
        - Individual PFD subscription
      operationId: Nnef_PFDmanagement_Unsubscribe
      parameters:
        - name: subscriptionId
          description: Identify the subscription.
          in: path
          required: true
          schema:
            type: string
      responses:
        '204':
          description: >-
            The PfdSubscription resource matching the subscriptionId was deleted
            successfully.
        '400':
          description: Bad request
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '429':
          description: Too Many Requests
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '503':
          description: Service Unavailable
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
components:
  securitySchemes:
    oAuth2ClientCredentials:
      type: oauth2
      flows:
        clientCredentials:
          tokenUrl: '{nrfApiRoot}/oauth2/token'
          scopes:
            nnef-pfdmanagement: Access to the Nnef_PFDmanagement API
  schemas:
    PfdContent:
      type: object
      properties:
        pfdId:
          type: string
          description: Identifies a PDF of an application identifier.
        flowDescriptions:
          type: array
          items:
            type: string
          minItems: 1
          description: >-
            Represents a 3-tuple with protocol, server ip and server port for
            UL/DL application traffic.
        urls:
          type: array
          items:
            type: string
          minItems: 1
          description: >-
            Indicates a URL or a regular expression which is used to match the
            significant parts of the URL.
        domainNames:
          type: array
          items:
            type: string
          minItems: 1
          description: >-
            Indicates an FQDN or a regular expression as a domain name matching
            criteria.
    PfdDataForApp:
      type: object
      properties:
        applicationId:
          type: string
        pfds:
          type: array
          items:
            type: object
            properties:
              pfdId:
                type: string
                description: Identifies a PDF of an application identifier.
              flowDescriptions:
                type: array
                items:
                  type: string
                minItems: 1
                description: >-
                  Represents a 3-tuple with protocol, server ip and server port
                  for UL/DL application traffic.
              urls:
                type: array
                items:
                  type: string
                minItems: 1
                description: >-
                  Indicates a URL or a regular expression which is used to match
                  the significant parts of the URL.
              domainNames:
                type: array
                items:
                  type: string
                minItems: 1
                description: >-
                  Indicates an FQDN or a regular expression as a domain name
                  matching criteria.
          minItems: 1
        cachingTime:
          format: date-time
          type: string
      required:
        - applicationId
        - pfds
    PfdSubscription:
      type: object
      properties:
        applicationIds:
          type: array
          items:
            type: string
          minItems: 1
        notifyUri:
          type: string
        supportedFeatures:
          type: string
          pattern: '^[A-Fa-f0-9]*$'
      required:
        - notifyUri
        - supportedFeatures
    PfdChangeNotification:
      type: object
      properties:
        applicationId:
          type: string
        removalFlag:
          type: boolean
          default: false
        partialFlag:
          type: boolean
          default: false
        pfds:
          type: array
          items:
            type: object
            properties:
              pfdId:
                type: string
                description: Identifies a PDF of an application identifier.
              flowDescriptions:
                type: array
                items:
                  type: string
                minItems: 1
                description: >-
                  Represents a 3-tuple with protocol, server ip and server port
                  for UL/DL application traffic.
              urls:
                type: array
                items:
                  type: string
                minItems: 1
                description: >-
                  Indicates a URL or a regular expression which is used to match
                  the significant parts of the URL.
              domainNames:
                type: array
                items:
                  type: string
                minItems: 1
                description: >-
                  Indicates an FQDN or a regular expression as a domain name
                  matching criteria.
          minItems: 1
      required:
        - applicationId
    PfdChangeReport:
      type: object
      properties:
        pfdError:
          type: object
          properties:
            type:
              type: string
            title:
              type: string
            status:
              type: integer
            detail:
              type: string
            instance:
              type: string
            cause:
              type: string
            invalidParams:
              type: array
              items:
                type: object
                properties:
                  param:
                    type: string
                  reason:
                    type: string
                required:
                  - param
              minItems: 1
        applicationId:
          type: array
          items:
            type: string
          minItems: 1
      required:
        - pfdError
        - applicationId
