openapi: 3.0.0
info:
  version: 2.0.0
  title: Nsmsf_SMService Service API
  description: SMSF SMService Service API
security:
  - oAuth2ClientCredentials:
      - nsmsf-sms
  - {}
servers:
  - url: '{apiRoot}/nsmsf-sms/v2'
    variables:
      apiRoot:
        default: 'https://example.com'
        description: apiRoot as defined in subclause subclause 4.4 of 3GPP TS 29.501.
paths:
  '/ue-contexts/{supi}':
    put:
      summary: Activate SMS Service for a given UE
      operationId: SMServiceActivation
      tags:
        - UEContext (Document)
      parameters:
        - name: supi
          in: path
          required: true
          description: Subscriber Permanent Identifier (SUPI)
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - supi
                - amfId
                - accessType
              properties:
                supi:
                  type: string
                  pattern: '^(imsi-[0-9]{5,15}|nai-.+|.+)$'
                pei:
                  type: string
                  pattern: '^(imei-[0-9]{15}|imeisv-[0-9]{16}|.+)$'
                amfId:
                  type: string
                  format: uuid
                guamis:
                  type: array
                  items:
                    type: object
                    properties:
                      plmnId:
                        type: object
                        properties:
                          mcc:
                            type: string
                            pattern: '^\d{3}$'
                          mnc:
                            type: string
                            pattern: '^\d{2,3}$'
                        required:
                          - mcc
                          - mnc
                      amfId:
                        type: string
                        pattern: '^[A-Fa-f0-9]{6}$'
                    required:
                      - plmnId
                      - amfId
                  minItems: 1
                accessType:
                  type: string
                  enum:
                    - 3GPP_ACCESS
                    - NON_3GPP_ACCESS
                gpsi:
                  type: string
                  pattern: '^(msisdn-[0-9]{5,15}|extid-[^@]+@[^@]+|.+)$'
                ueLocation:
                  type: object
                  properties:
                    eutraLocation:
                      type: object
                      properties:
                        tai:
                          type: object
                          properties:
                            plmnId:
                              type: object
                              properties:
                                mcc:
                                  type: string
                                  pattern: '^\d{3}$'
                                mnc:
                                  type: string
                                  pattern: '^\d{2,3}$'
                              required:
                                - mcc
                                - mnc
                            tac:
                              type: string
                              pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                          required:
                            - plmnId
                            - tac
                        ecgi:
                          type: object
                          properties:
                            plmnId:
                              type: object
                              properties:
                                mcc:
                                  type: string
                                  pattern: '^\d{3}$'
                                mnc:
                                  type: string
                                  pattern: '^\d{2,3}$'
                              required:
                                - mcc
                                - mnc
                            eutraCellId:
                              type: string
                              pattern: '^[A-Fa-f0-9]{7}$'
                          required:
                            - plmnId
                            - eutraCellId
                        ageOfLocationInformation:
                          type: integer
                          minimum: 0
                          maximum: 32767
                        ueLocationTimestamp:
                          format: date-time
                          type: string
                        geographicalInformation:
                          type: string
                          pattern: '^[0-9A-F]{16}$'
                        geodeticInformation:
                          type: string
                          pattern: '^[0-9A-F]{20}$'
                        globalNgenbId:
                          type: object
                          properties:
                            plmnId:
                              type: object
                              properties:
                                mcc:
                                  type: string
                                  pattern: '^\d{3}$'
                                mnc:
                                  type: string
                                  pattern: '^\d{2,3}$'
                              required:
                                - mcc
                                - mnc
                            n3IwfId:
                              type: string
                              pattern: '^[A-Fa-f0-9]+$'
                            gNbId:
                              type: object
                              properties:
                                bitLength:
                                  type: integer
                                  minimum: 22
                                  maximum: 32
                                gNBValue:
                                  type: string
                                  pattern: '^[A-Fa-f0-9]{6,8}$'
                              required:
                                - bitLength
                                - gNBValue
                            ngeNbId:
                              type: string
                              pattern: >-
                                ^(MacroNGeNB-[A-Fa-f0-9]{5}|LMacroNGeNB-[A-Fa-f0-9]{6}|SMacroNGeNB-[A-Fa-f0-9]{5})$
                          oneOf:
                            - required:
                                - n3IwfId
                            - required:
                                - gNbId
                            - required:
                                - ngeNbId
                          required:
                            - plmnId
                      required:
                        - tai
                        - ecgi
                    nrLocation:
                      type: object
                      properties:
                        tai:
                          type: object
                          properties:
                            plmnId:
                              type: object
                              properties:
                                mcc:
                                  type: string
                                  pattern: '^\d{3}$'
                                mnc:
                                  type: string
                                  pattern: '^\d{2,3}$'
                              required:
                                - mcc
                                - mnc
                            tac:
                              type: string
                              pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                          required:
                            - plmnId
                            - tac
                        ncgi:
                          type: object
                          properties:
                            plmnId:
                              type: object
                              properties:
                                mcc:
                                  type: string
                                  pattern: '^\d{3}$'
                                mnc:
                                  type: string
                                  pattern: '^\d{2,3}$'
                              required:
                                - mcc
                                - mnc
                            nrCellId:
                              type: string
                              pattern: '^[A-Fa-f0-9]{9}$'
                          required:
                            - plmnId
                            - nrCellId
                        ageOfLocationInformation:
                          type: integer
                          minimum: 0
                          maximum: 32767
                        ueLocationTimestamp:
                          format: date-time
                          type: string
                        geographicalInformation:
                          type: string
                          pattern: '^[0-9A-F]{16}$'
                        geodeticInformation:
                          type: string
                          pattern: '^[0-9A-F]{20}$'
                        globalGnbId:
                          type: object
                          properties:
                            plmnId:
                              type: object
                              properties:
                                mcc:
                                  type: string
                                  pattern: '^\d{3}$'
                                mnc:
                                  type: string
                                  pattern: '^\d{2,3}$'
                              required:
                                - mcc
                                - mnc
                            n3IwfId:
                              type: string
                              pattern: '^[A-Fa-f0-9]+$'
                            gNbId:
                              type: object
                              properties:
                                bitLength:
                                  type: integer
                                  minimum: 22
                                  maximum: 32
                                gNBValue:
                                  type: string
                                  pattern: '^[A-Fa-f0-9]{6,8}$'
                              required:
                                - bitLength
                                - gNBValue
                            ngeNbId:
                              type: string
                              pattern: >-
                                ^(MacroNGeNB-[A-Fa-f0-9]{5}|LMacroNGeNB-[A-Fa-f0-9]{6}|SMacroNGeNB-[A-Fa-f0-9]{5})$
                          oneOf:
                            - required:
                                - n3IwfId
                            - required:
                                - gNbId
                            - required:
                                - ngeNbId
                          required:
                            - plmnId
                      required:
                        - tai
                        - ncgi
                    n3gaLocation:
                      type: object
                      properties:
                        n3gppTai:
                          type: object
                          properties:
                            plmnId:
                              type: object
                              properties:
                                mcc:
                                  type: string
                                  pattern: '^\d{3}$'
                                mnc:
                                  type: string
                                  pattern: '^\d{2,3}$'
                              required:
                                - mcc
                                - mnc
                            tac:
                              type: string
                              pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                          required:
                            - plmnId
                            - tac
                        n3IwfId:
                          type: string
                          pattern: '^[A-Fa-f0-9]+$'
                        ueIpv4Addr:
                          type: string
                          pattern: >-
                            ^(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$
                          example: 198.51.100.1
                        ueIpv6Addr:
                          type: string
                          allOf:
                            - pattern: >-
                                ^((:|(0?|([1-9a-f][0-9a-f]{0,3}))):)((0?|([1-9a-f][0-9a-f]{0,3})):){0,6}(:|(0?|([1-9a-f][0-9a-f]{0,3})))$
                            - pattern: >-
                                ^((([^:]+:){7}([^:]+))|((([^:]+:)*[^:]+)?::(([^:]+:)*[^:]+)?))$
                          example: '2001:db8:85a3::8a2e:370:7334'
                        portNumber:
                          type: integer
                          minimum: 0
                ueTimeZone:
                  type: string
                traceData:
                  type: object
                  nullable: true
                  properties:
                    traceRef:
                      type: string
                      pattern: '^[0-9]{3}[0-9]{2,3}-[A-Fa-f0-9]{6}$'
                    traceDepth:
                      anyOf:
                        - type: string
                          enum:
                            - MINIMUM
                            - MEDIUM
                            - MAXIMUM
                            - MINIMUM_WO_VENDOR_EXTENSION
                            - MEDIUM_WO_VENDOR_EXTENSION
                            - MAXIMUM_WO_VENDOR_EXTENSION
                        - type: string
                    neTypeList:
                      type: string
                      pattern: '^[A-Fa-f0-9]+$'
                    eventList:
                      type: string
                      pattern: '^[A-Fa-f0-9]+$'
                    collectionEntityIpv4Addr:
                      type: string
                      pattern: >-
                        ^(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$
                      example: 198.51.100.1
                    collectionEntityIpv6Addr:
                      type: string
                      allOf:
                        - pattern: >-
                            ^((:|(0?|([1-9a-f][0-9a-f]{0,3}))):)((0?|([1-9a-f][0-9a-f]{0,3})):){0,6}(:|(0?|([1-9a-f][0-9a-f]{0,3})))$
                        - pattern: >-
                            ^((([^:]+:){7}([^:]+))|((([^:]+:)*[^:]+)?::(([^:]+:)*[^:]+)?))$
                      example: '2001:db8:85a3::8a2e:370:7334'
                    interfaceList:
                      type: string
                      pattern: '^[A-Fa-f0-9]+$'
                  required:
                    - traceRef
                    - traceDepth
                    - neTypeList
                    - eventList
                backupAmfInfo:
                  type: array
                  items:
                    type: object
                    properties:
                      backupAmf:
                        type: string
                      guamiList:
                        type: array
                        items:
                          type: object
                          properties:
                            plmnId:
                              type: object
                              properties:
                                mcc:
                                  type: string
                                  pattern: '^\d{3}$'
                                mnc:
                                  type: string
                                  pattern: '^\d{2,3}$'
                              required:
                                - mcc
                                - mnc
                            amfId:
                              type: string
                              pattern: '^[A-Fa-f0-9]{6}$'
                          required:
                            - plmnId
                            - amfId
                        minItems: 1
                    required:
                      - backupAmf
                  minItems: 1
                udmGroupId:
                  type: string
                routingIndicator:
                  type: string
        required: true
      responses:
        '201':
          description: UE Context for SMS is created in SMSF
          content:
            application/json:
              schema:
                type: object
                required:
                  - supi
                  - amfId
                  - accessType
                properties:
                  supi:
                    type: string
                    pattern: '^(imsi-[0-9]{5,15}|nai-.+|.+)$'
                  pei:
                    type: string
                    pattern: '^(imei-[0-9]{15}|imeisv-[0-9]{16}|.+)$'
                  amfId:
                    type: string
                    format: uuid
                  guamis:
                    type: array
                    items:
                      type: object
                      properties:
                        plmnId:
                          type: object
                          properties:
                            mcc:
                              type: string
                              pattern: '^\d{3}$'
                            mnc:
                              type: string
                              pattern: '^\d{2,3}$'
                          required:
                            - mcc
                            - mnc
                        amfId:
                          type: string
                          pattern: '^[A-Fa-f0-9]{6}$'
                      required:
                        - plmnId
                        - amfId
                    minItems: 1
                  accessType:
                    type: string
                    enum:
                      - 3GPP_ACCESS
                      - NON_3GPP_ACCESS
                  gpsi:
                    type: string
                    pattern: '^(msisdn-[0-9]{5,15}|extid-[^@]+@[^@]+|.+)$'
                  ueLocation:
                    type: object
                    properties:
                      eutraLocation:
                        type: object
                        properties:
                          tai:
                            type: object
                            properties:
                              plmnId:
                                type: object
                                properties:
                                  mcc:
                                    type: string
                                    pattern: '^\d{3}$'
                                  mnc:
                                    type: string
                                    pattern: '^\d{2,3}$'
                                required:
                                  - mcc
                                  - mnc
                              tac:
                                type: string
                                pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                            required:
                              - plmnId
                              - tac
                          ecgi:
                            type: object
                            properties:
                              plmnId:
                                type: object
                                properties:
                                  mcc:
                                    type: string
                                    pattern: '^\d{3}$'
                                  mnc:
                                    type: string
                                    pattern: '^\d{2,3}$'
                                required:
                                  - mcc
                                  - mnc
                              eutraCellId:
                                type: string
                                pattern: '^[A-Fa-f0-9]{7}$'
                            required:
                              - plmnId
                              - eutraCellId
                          ageOfLocationInformation:
                            type: integer
                            minimum: 0
                            maximum: 32767
                          ueLocationTimestamp:
                            format: date-time
                            type: string
                          geographicalInformation:
                            type: string
                            pattern: '^[0-9A-F]{16}$'
                          geodeticInformation:
                            type: string
                            pattern: '^[0-9A-F]{20}$'
                          globalNgenbId:
                            type: object
                            properties:
                              plmnId:
                                type: object
                                properties:
                                  mcc:
                                    type: string
                                    pattern: '^\d{3}$'
                                  mnc:
                                    type: string
                                    pattern: '^\d{2,3}$'
                                required:
                                  - mcc
                                  - mnc
                              n3IwfId:
                                type: string
                                pattern: '^[A-Fa-f0-9]+$'
                              gNbId:
                                type: object
                                properties:
                                  bitLength:
                                    type: integer
                                    minimum: 22
                                    maximum: 32
                                  gNBValue:
                                    type: string
                                    pattern: '^[A-Fa-f0-9]{6,8}$'
                                required:
                                  - bitLength
                                  - gNBValue
                              ngeNbId:
                                type: string
                                pattern: >-
                                  ^(MacroNGeNB-[A-Fa-f0-9]{5}|LMacroNGeNB-[A-Fa-f0-9]{6}|SMacroNGeNB-[A-Fa-f0-9]{5})$
                            oneOf:
                              - required:
                                  - n3IwfId
                              - required:
                                  - gNbId
                              - required:
                                  - ngeNbId
                            required:
                              - plmnId
                        required:
                          - tai
                          - ecgi
                      nrLocation:
                        type: object
                        properties:
                          tai:
                            type: object
                            properties:
                              plmnId:
                                type: object
                                properties:
                                  mcc:
                                    type: string
                                    pattern: '^\d{3}$'
                                  mnc:
                                    type: string
                                    pattern: '^\d{2,3}$'
                                required:
                                  - mcc
                                  - mnc
                              tac:
                                type: string
                                pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                            required:
                              - plmnId
                              - tac
                          ncgi:
                            type: object
                            properties:
                              plmnId:
                                type: object
                                properties:
                                  mcc:
                                    type: string
                                    pattern: '^\d{3}$'
                                  mnc:
                                    type: string
                                    pattern: '^\d{2,3}$'
                                required:
                                  - mcc
                                  - mnc
                              nrCellId:
                                type: string
                                pattern: '^[A-Fa-f0-9]{9}$'
                            required:
                              - plmnId
                              - nrCellId
                          ageOfLocationInformation:
                            type: integer
                            minimum: 0
                            maximum: 32767
                          ueLocationTimestamp:
                            format: date-time
                            type: string
                          geographicalInformation:
                            type: string
                            pattern: '^[0-9A-F]{16}$'
                          geodeticInformation:
                            type: string
                            pattern: '^[0-9A-F]{20}$'
                          globalGnbId:
                            type: object
                            properties:
                              plmnId:
                                type: object
                                properties:
                                  mcc:
                                    type: string
                                    pattern: '^\d{3}$'
                                  mnc:
                                    type: string
                                    pattern: '^\d{2,3}$'
                                required:
                                  - mcc
                                  - mnc
                              n3IwfId:
                                type: string
                                pattern: '^[A-Fa-f0-9]+$'
                              gNbId:
                                type: object
                                properties:
                                  bitLength:
                                    type: integer
                                    minimum: 22
                                    maximum: 32
                                  gNBValue:
                                    type: string
                                    pattern: '^[A-Fa-f0-9]{6,8}$'
                                required:
                                  - bitLength
                                  - gNBValue
                              ngeNbId:
                                type: string
                                pattern: >-
                                  ^(MacroNGeNB-[A-Fa-f0-9]{5}|LMacroNGeNB-[A-Fa-f0-9]{6}|SMacroNGeNB-[A-Fa-f0-9]{5})$
                            oneOf:
                              - required:
                                  - n3IwfId
                              - required:
                                  - gNbId
                              - required:
                                  - ngeNbId
                            required:
                              - plmnId
                        required:
                          - tai
                          - ncgi
                      n3gaLocation:
                        type: object
                        properties:
                          n3gppTai:
                            type: object
                            properties:
                              plmnId:
                                type: object
                                properties:
                                  mcc:
                                    type: string
                                    pattern: '^\d{3}$'
                                  mnc:
                                    type: string
                                    pattern: '^\d{2,3}$'
                                required:
                                  - mcc
                                  - mnc
                              tac:
                                type: string
                                pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                            required:
                              - plmnId
                              - tac
                          n3IwfId:
                            type: string
                            pattern: '^[A-Fa-f0-9]+$'
                          ueIpv4Addr:
                            type: string
                            pattern: >-
                              ^(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$
                            example: 198.51.100.1
                          ueIpv6Addr:
                            type: string
                            allOf:
                              - pattern: >-
                                  ^((:|(0?|([1-9a-f][0-9a-f]{0,3}))):)((0?|([1-9a-f][0-9a-f]{0,3})):){0,6}(:|(0?|([1-9a-f][0-9a-f]{0,3})))$
                              - pattern: >-
                                  ^((([^:]+:){7}([^:]+))|((([^:]+:)*[^:]+)?::(([^:]+:)*[^:]+)?))$
                            example: '2001:db8:85a3::8a2e:370:7334'
                          portNumber:
                            type: integer
                            minimum: 0
                  ueTimeZone:
                    type: string
                  traceData:
                    type: object
                    nullable: true
                    properties:
                      traceRef:
                        type: string
                        pattern: '^[0-9]{3}[0-9]{2,3}-[A-Fa-f0-9]{6}$'
                      traceDepth:
                        anyOf:
                          - type: string
                            enum:
                              - MINIMUM
                              - MEDIUM
                              - MAXIMUM
                              - MINIMUM_WO_VENDOR_EXTENSION
                              - MEDIUM_WO_VENDOR_EXTENSION
                              - MAXIMUM_WO_VENDOR_EXTENSION
                          - type: string
                      neTypeList:
                        type: string
                        pattern: '^[A-Fa-f0-9]+$'
                      eventList:
                        type: string
                        pattern: '^[A-Fa-f0-9]+$'
                      collectionEntityIpv4Addr:
                        type: string
                        pattern: >-
                          ^(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$
                        example: 198.51.100.1
                      collectionEntityIpv6Addr:
                        type: string
                        allOf:
                          - pattern: >-
                              ^((:|(0?|([1-9a-f][0-9a-f]{0,3}))):)((0?|([1-9a-f][0-9a-f]{0,3})):){0,6}(:|(0?|([1-9a-f][0-9a-f]{0,3})))$
                          - pattern: >-
                              ^((([^:]+:){7}([^:]+))|((([^:]+:)*[^:]+)?::(([^:]+:)*[^:]+)?))$
                        example: '2001:db8:85a3::8a2e:370:7334'
                      interfaceList:
                        type: string
                        pattern: '^[A-Fa-f0-9]+$'
                    required:
                      - traceRef
                      - traceDepth
                      - neTypeList
                      - eventList
                  backupAmfInfo:
                    type: array
                    items:
                      type: object
                      properties:
                        backupAmf:
                          type: string
                        guamiList:
                          type: array
                          items:
                            type: object
                            properties:
                              plmnId:
                                type: object
                                properties:
                                  mcc:
                                    type: string
                                    pattern: '^\d{3}$'
                                  mnc:
                                    type: string
                                    pattern: '^\d{2,3}$'
                                required:
                                  - mcc
                                  - mnc
                              amfId:
                                type: string
                                pattern: '^[A-Fa-f0-9]{6}$'
                            required:
                              - plmnId
                              - amfId
                          minItems: 1
                      required:
                        - backupAmf
                    minItems: 1
                  udmGroupId:
                    type: string
                  routingIndicator:
                    type: string
          headers:
            Location:
              description: >-
                Contains the URI of the newly created resource, according to the
                structure: {apiRoot}/nsmsf-sms/{apiVersion}/ue-contexts/{supi}
              required: true
              schema:
                type: string
        '204':
          description: UE Context for SMS is updated in SMSF
        '400':
          description: Invalid Service Request
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '403':
          description: Unable to create/update UE Context for SMS in SMSF
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '404':
          description: >-
            Unable to found subscription for service user or UE Context for SMS
            in SMSF
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '503':
          description: Service Unavailable
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        default:
          description: Unexpected error
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
    delete:
      summary: Deactivate SMS Service for a given UE
      operationId: SMServiceDeactivation
      tags:
        - UEContext (Document)
      parameters:
        - name: supi
          in: path
          required: true
          description: Subscriber Permanent Identifier (SUPI)
          schema:
            type: string
      responses:
        '204':
          description: UE Context for SMS is deleted from SMSF
        '400':
          description: Invalid Service Request
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '404':
          description: Unable to found UE Context for SMS in SMSF
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '503':
          description: Service Unavailable
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
  '/ue-contexts/{supi}/sendsms':
    post:
      summary: Send SMS payload for a given UE
      operationId: SendSMS
      tags:
        - UEContext (Document)
      parameters:
        - name: supi
          in: path
          required: true
          description: Subscriber Permanent Identifier (SUPI)
          schema:
            type: string
      requestBody:
        content:
          multipart/related:
            schema:
              type: object
              properties:
                jsonData:
                  type: object
                  required:
                    - smsRecordId
                    - smsPayload
                  properties:
                    smsRecordId:
                      type: string
                    smsPayload:
                      type: object
                      properties:
                        contentId:
                          type: string
                      required:
                        - contentId
                    accessType:
                      type: string
                      enum:
                        - 3GPP_ACCESS
                        - NON_3GPP_ACCESS
                    gpsi:
                      type: string
                      pattern: '^(msisdn-[0-9]{5,15}|extid-[^@]+@[^@]+|.+)$'
                    pei:
                      type: string
                      pattern: '^(imei-[0-9]{15}|imeisv-[0-9]{16}|.+)$'
                    ueLocation:
                      type: object
                      properties:
                        eutraLocation:
                          type: object
                          properties:
                            tai:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                tac:
                                  type: string
                                  pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                              required:
                                - plmnId
                                - tac
                            ecgi:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                eutraCellId:
                                  type: string
                                  pattern: '^[A-Fa-f0-9]{7}$'
                              required:
                                - plmnId
                                - eutraCellId
                            ageOfLocationInformation:
                              type: integer
                              minimum: 0
                              maximum: 32767
                            ueLocationTimestamp:
                              format: date-time
                              type: string
                            geographicalInformation:
                              type: string
                              pattern: '^[0-9A-F]{16}$'
                            geodeticInformation:
                              type: string
                              pattern: '^[0-9A-F]{20}$'
                            globalNgenbId:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                n3IwfId:
                                  type: string
                                  pattern: '^[A-Fa-f0-9]+$'
                                gNbId:
                                  type: object
                                  properties:
                                    bitLength:
                                      type: integer
                                      minimum: 22
                                      maximum: 32
                                    gNBValue:
                                      type: string
                                      pattern: '^[A-Fa-f0-9]{6,8}$'
                                  required:
                                    - bitLength
                                    - gNBValue
                                ngeNbId:
                                  type: string
                                  pattern: >-
                                    ^(MacroNGeNB-[A-Fa-f0-9]{5}|LMacroNGeNB-[A-Fa-f0-9]{6}|SMacroNGeNB-[A-Fa-f0-9]{5})$
                              oneOf:
                                - required:
                                    - n3IwfId
                                - required:
                                    - gNbId
                                - required:
                                    - ngeNbId
                              required:
                                - plmnId
                          required:
                            - tai
                            - ecgi
                        nrLocation:
                          type: object
                          properties:
                            tai:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                tac:
                                  type: string
                                  pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                              required:
                                - plmnId
                                - tac
                            ncgi:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                nrCellId:
                                  type: string
                                  pattern: '^[A-Fa-f0-9]{9}$'
                              required:
                                - plmnId
                                - nrCellId
                            ageOfLocationInformation:
                              type: integer
                              minimum: 0
                              maximum: 32767
                            ueLocationTimestamp:
                              format: date-time
                              type: string
                            geographicalInformation:
                              type: string
                              pattern: '^[0-9A-F]{16}$'
                            geodeticInformation:
                              type: string
                              pattern: '^[0-9A-F]{20}$'
                            globalGnbId:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                n3IwfId:
                                  type: string
                                  pattern: '^[A-Fa-f0-9]+$'
                                gNbId:
                                  type: object
                                  properties:
                                    bitLength:
                                      type: integer
                                      minimum: 22
                                      maximum: 32
                                    gNBValue:
                                      type: string
                                      pattern: '^[A-Fa-f0-9]{6,8}$'
                                  required:
                                    - bitLength
                                    - gNBValue
                                ngeNbId:
                                  type: string
                                  pattern: >-
                                    ^(MacroNGeNB-[A-Fa-f0-9]{5}|LMacroNGeNB-[A-Fa-f0-9]{6}|SMacroNGeNB-[A-Fa-f0-9]{5})$
                              oneOf:
                                - required:
                                    - n3IwfId
                                - required:
                                    - gNbId
                                - required:
                                    - ngeNbId
                              required:
                                - plmnId
                          required:
                            - tai
                            - ncgi
                        n3gaLocation:
                          type: object
                          properties:
                            n3gppTai:
                              type: object
                              properties:
                                plmnId:
                                  type: object
                                  properties:
                                    mcc:
                                      type: string
                                      pattern: '^\d{3}$'
                                    mnc:
                                      type: string
                                      pattern: '^\d{2,3}$'
                                  required:
                                    - mcc
                                    - mnc
                                tac:
                                  type: string
                                  pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                              required:
                                - plmnId
                                - tac
                            n3IwfId:
                              type: string
                              pattern: '^[A-Fa-f0-9]+$'
                            ueIpv4Addr:
                              type: string
                              pattern: >-
                                ^(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$
                              example: 198.51.100.1
                            ueIpv6Addr:
                              type: string
                              allOf:
                                - pattern: >-
                                    ^((:|(0?|([1-9a-f][0-9a-f]{0,3}))):)((0?|([1-9a-f][0-9a-f]{0,3})):){0,6}(:|(0?|([1-9a-f][0-9a-f]{0,3})))$
                                - pattern: >-
                                    ^((([^:]+:){7}([^:]+))|((([^:]+:)*[^:]+)?::(([^:]+:)*[^:]+)?))$
                              example: '2001:db8:85a3::8a2e:370:7334'
                            portNumber:
                              type: integer
                              minimum: 0
                    ueTimeZone:
                      type: string
                binaryPayload:
                  type: string
                  format: binary
            encoding:
              jsonData:
                contentType: application/json
              binaryPayload:
                contentType: application/vnd.3gpp.sms
                headers:
                  Content-Id:
                    schema:
                      type: string
        required: true
      responses:
        '200':
          description: 'SMS payload is received by SMSF, and is being delivered out'
          content:
            application/json:
              schema:
                type: object
                required:
                  - smsRecordId
                  - deliveryStatus
                properties:
                  smsRecordId:
                    type: string
                  deliveryStatus:
                    type: string
                    enum:
                      - SMS_DELIVERY_PENDING
                      - SMS_DELIVERY_COMPLETED
                      - SMS_DELIVERY_FAILED
        '400':
          description: Invalid Service Request
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '403':
          description: Unable to deliver SMS at SMSF
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '404':
          description: Unable to found UE Context for SMS in SMSF
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
        '503':
          description: Service Unavailable
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  title:
                    type: string
                  status:
                    type: integer
                  detail:
                    type: string
                  instance:
                    type: string
                  cause:
                    type: string
                  invalidParams:
                    type: array
                    items:
                      type: object
                      properties:
                        param:
                          type: string
                        reason:
                          type: string
                      required:
                        - param
                    minItems: 1
components:
  securitySchemes:
    oAuth2ClientCredentials:
      type: oauth2
      flows:
        clientCredentials:
          tokenUrl: '{nrfApiRoot}/oauth2/token'
          scopes:
            nsmsf-sms: Access to the nsmsf-sms API
  schemas:
    UeSmsContextData:
      type: object
      required:
        - supi
        - amfId
        - accessType
      properties:
        supi:
          type: string
          pattern: '^(imsi-[0-9]{5,15}|nai-.+|.+)$'
        pei:
          type: string
          pattern: '^(imei-[0-9]{15}|imeisv-[0-9]{16}|.+)$'
        amfId:
          type: string
          format: uuid
        guamis:
          type: array
          items:
            type: object
            properties:
              plmnId:
                type: object
                properties:
                  mcc:
                    type: string
                    pattern: '^\d{3}$'
                  mnc:
                    type: string
                    pattern: '^\d{2,3}$'
                required:
                  - mcc
                  - mnc
              amfId:
                type: string
                pattern: '^[A-Fa-f0-9]{6}$'
            required:
              - plmnId
              - amfId
          minItems: 1
        accessType:
          type: string
          enum:
            - 3GPP_ACCESS
            - NON_3GPP_ACCESS
        gpsi:
          type: string
          pattern: '^(msisdn-[0-9]{5,15}|extid-[^@]+@[^@]+|.+)$'
        ueLocation:
          type: object
          properties:
            eutraLocation:
              type: object
              properties:
                tai:
                  type: object
                  properties:
                    plmnId:
                      type: object
                      properties:
                        mcc:
                          type: string
                          pattern: '^\d{3}$'
                        mnc:
                          type: string
                          pattern: '^\d{2,3}$'
                      required:
                        - mcc
                        - mnc
                    tac:
                      type: string
                      pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                  required:
                    - plmnId
                    - tac
                ecgi:
                  type: object
                  properties:
                    plmnId:
                      type: object
                      properties:
                        mcc:
                          type: string
                          pattern: '^\d{3}$'
                        mnc:
                          type: string
                          pattern: '^\d{2,3}$'
                      required:
                        - mcc
                        - mnc
                    eutraCellId:
                      type: string
                      pattern: '^[A-Fa-f0-9]{7}$'
                  required:
                    - plmnId
                    - eutraCellId
                ageOfLocationInformation:
                  type: integer
                  minimum: 0
                  maximum: 32767
                ueLocationTimestamp:
                  format: date-time
                  type: string
                geographicalInformation:
                  type: string
                  pattern: '^[0-9A-F]{16}$'
                geodeticInformation:
                  type: string
                  pattern: '^[0-9A-F]{20}$'
                globalNgenbId:
                  type: object
                  properties:
                    plmnId:
                      type: object
                      properties:
                        mcc:
                          type: string
                          pattern: '^\d{3}$'
                        mnc:
                          type: string
                          pattern: '^\d{2,3}$'
                      required:
                        - mcc
                        - mnc
                    n3IwfId:
                      type: string
                      pattern: '^[A-Fa-f0-9]+$'
                    gNbId:
                      type: object
                      properties:
                        bitLength:
                          type: integer
                          minimum: 22
                          maximum: 32
                        gNBValue:
                          type: string
                          pattern: '^[A-Fa-f0-9]{6,8}$'
                      required:
                        - bitLength
                        - gNBValue
                    ngeNbId:
                      type: string
                      pattern: >-
                        ^(MacroNGeNB-[A-Fa-f0-9]{5}|LMacroNGeNB-[A-Fa-f0-9]{6}|SMacroNGeNB-[A-Fa-f0-9]{5})$
                  oneOf:
                    - required:
                        - n3IwfId
                    - required:
                        - gNbId
                    - required:
                        - ngeNbId
                  required:
                    - plmnId
              required:
                - tai
                - ecgi
            nrLocation:
              type: object
              properties:
                tai:
                  type: object
                  properties:
                    plmnId:
                      type: object
                      properties:
                        mcc:
                          type: string
                          pattern: '^\d{3}$'
                        mnc:
                          type: string
                          pattern: '^\d{2,3}$'
                      required:
                        - mcc
                        - mnc
                    tac:
                      type: string
                      pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                  required:
                    - plmnId
                    - tac
                ncgi:
                  type: object
                  properties:
                    plmnId:
                      type: object
                      properties:
                        mcc:
                          type: string
                          pattern: '^\d{3}$'
                        mnc:
                          type: string
                          pattern: '^\d{2,3}$'
                      required:
                        - mcc
                        - mnc
                    nrCellId:
                      type: string
                      pattern: '^[A-Fa-f0-9]{9}$'
                  required:
                    - plmnId
                    - nrCellId
                ageOfLocationInformation:
                  type: integer
                  minimum: 0
                  maximum: 32767
                ueLocationTimestamp:
                  format: date-time
                  type: string
                geographicalInformation:
                  type: string
                  pattern: '^[0-9A-F]{16}$'
                geodeticInformation:
                  type: string
                  pattern: '^[0-9A-F]{20}$'
                globalGnbId:
                  type: object
                  properties:
                    plmnId:
                      type: object
                      properties:
                        mcc:
                          type: string
                          pattern: '^\d{3}$'
                        mnc:
                          type: string
                          pattern: '^\d{2,3}$'
                      required:
                        - mcc
                        - mnc
                    n3IwfId:
                      type: string
                      pattern: '^[A-Fa-f0-9]+$'
                    gNbId:
                      type: object
                      properties:
                        bitLength:
                          type: integer
                          minimum: 22
                          maximum: 32
                        gNBValue:
                          type: string
                          pattern: '^[A-Fa-f0-9]{6,8}$'
                      required:
                        - bitLength
                        - gNBValue
                    ngeNbId:
                      type: string
                      pattern: >-
                        ^(MacroNGeNB-[A-Fa-f0-9]{5}|LMacroNGeNB-[A-Fa-f0-9]{6}|SMacroNGeNB-[A-Fa-f0-9]{5})$
                  oneOf:
                    - required:
                        - n3IwfId
                    - required:
                        - gNbId
                    - required:
                        - ngeNbId
                  required:
                    - plmnId
              required:
                - tai
                - ncgi
            n3gaLocation:
              type: object
              properties:
                n3gppTai:
                  type: object
                  properties:
                    plmnId:
                      type: object
                      properties:
                        mcc:
                          type: string
                          pattern: '^\d{3}$'
                        mnc:
                          type: string
                          pattern: '^\d{2,3}$'
                      required:
                        - mcc
                        - mnc
                    tac:
                      type: string
                      pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                  required:
                    - plmnId
                    - tac
                n3IwfId:
                  type: string
                  pattern: '^[A-Fa-f0-9]+$'
                ueIpv4Addr:
                  type: string
                  pattern: >-
                    ^(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$
                  example: 198.51.100.1
                ueIpv6Addr:
                  type: string
                  allOf:
                    - pattern: >-
                        ^((:|(0?|([1-9a-f][0-9a-f]{0,3}))):)((0?|([1-9a-f][0-9a-f]{0,3})):){0,6}(:|(0?|([1-9a-f][0-9a-f]{0,3})))$
                    - pattern: >-
                        ^((([^:]+:){7}([^:]+))|((([^:]+:)*[^:]+)?::(([^:]+:)*[^:]+)?))$
                  example: '2001:db8:85a3::8a2e:370:7334'
                portNumber:
                  type: integer
                  minimum: 0
        ueTimeZone:
          type: string
        traceData:
          type: object
          nullable: true
          properties:
            traceRef:
              type: string
              pattern: '^[0-9]{3}[0-9]{2,3}-[A-Fa-f0-9]{6}$'
            traceDepth:
              anyOf:
                - type: string
                  enum:
                    - MINIMUM
                    - MEDIUM
                    - MAXIMUM
                    - MINIMUM_WO_VENDOR_EXTENSION
                    - MEDIUM_WO_VENDOR_EXTENSION
                    - MAXIMUM_WO_VENDOR_EXTENSION
                - type: string
            neTypeList:
              type: string
              pattern: '^[A-Fa-f0-9]+$'
            eventList:
              type: string
              pattern: '^[A-Fa-f0-9]+$'
            collectionEntityIpv4Addr:
              type: string
              pattern: >-
                ^(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$
              example: 198.51.100.1
            collectionEntityIpv6Addr:
              type: string
              allOf:
                - pattern: >-
                    ^((:|(0?|([1-9a-f][0-9a-f]{0,3}))):)((0?|([1-9a-f][0-9a-f]{0,3})):){0,6}(:|(0?|([1-9a-f][0-9a-f]{0,3})))$
                - pattern: >-
                    ^((([^:]+:){7}([^:]+))|((([^:]+:)*[^:]+)?::(([^:]+:)*[^:]+)?))$
              example: '2001:db8:85a3::8a2e:370:7334'
            interfaceList:
              type: string
              pattern: '^[A-Fa-f0-9]+$'
          required:
            - traceRef
            - traceDepth
            - neTypeList
            - eventList
        backupAmfInfo:
          type: array
          items:
            type: object
            properties:
              backupAmf:
                type: string
              guamiList:
                type: array
                items:
                  type: object
                  properties:
                    plmnId:
                      type: object
                      properties:
                        mcc:
                          type: string
                          pattern: '^\d{3}$'
                        mnc:
                          type: string
                          pattern: '^\d{2,3}$'
                      required:
                        - mcc
                        - mnc
                    amfId:
                      type: string
                      pattern: '^[A-Fa-f0-9]{6}$'
                  required:
                    - plmnId
                    - amfId
                minItems: 1
            required:
              - backupAmf
          minItems: 1
        udmGroupId:
          type: string
        routingIndicator:
          type: string
    SmsRecordData:
      type: object
      required:
        - smsRecordId
        - smsPayload
      properties:
        smsRecordId:
          type: string
        smsPayload:
          type: object
          properties:
            contentId:
              type: string
          required:
            - contentId
        accessType:
          type: string
          enum:
            - 3GPP_ACCESS
            - NON_3GPP_ACCESS
        gpsi:
          type: string
          pattern: '^(msisdn-[0-9]{5,15}|extid-[^@]+@[^@]+|.+)$'
        pei:
          type: string
          pattern: '^(imei-[0-9]{15}|imeisv-[0-9]{16}|.+)$'
        ueLocation:
          type: object
          properties:
            eutraLocation:
              type: object
              properties:
                tai:
                  type: object
                  properties:
                    plmnId:
                      type: object
                      properties:
                        mcc:
                          type: string
                          pattern: '^\d{3}$'
                        mnc:
                          type: string
                          pattern: '^\d{2,3}$'
                      required:
                        - mcc
                        - mnc
                    tac:
                      type: string
                      pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                  required:
                    - plmnId
                    - tac
                ecgi:
                  type: object
                  properties:
                    plmnId:
                      type: object
                      properties:
                        mcc:
                          type: string
                          pattern: '^\d{3}$'
                        mnc:
                          type: string
                          pattern: '^\d{2,3}$'
                      required:
                        - mcc
                        - mnc
                    eutraCellId:
                      type: string
                      pattern: '^[A-Fa-f0-9]{7}$'
                  required:
                    - plmnId
                    - eutraCellId
                ageOfLocationInformation:
                  type: integer
                  minimum: 0
                  maximum: 32767
                ueLocationTimestamp:
                  format: date-time
                  type: string
                geographicalInformation:
                  type: string
                  pattern: '^[0-9A-F]{16}$'
                geodeticInformation:
                  type: string
                  pattern: '^[0-9A-F]{20}$'
                globalNgenbId:
                  type: object
                  properties:
                    plmnId:
                      type: object
                      properties:
                        mcc:
                          type: string
                          pattern: '^\d{3}$'
                        mnc:
                          type: string
                          pattern: '^\d{2,3}$'
                      required:
                        - mcc
                        - mnc
                    n3IwfId:
                      type: string
                      pattern: '^[A-Fa-f0-9]+$'
                    gNbId:
                      type: object
                      properties:
                        bitLength:
                          type: integer
                          minimum: 22
                          maximum: 32
                        gNBValue:
                          type: string
                          pattern: '^[A-Fa-f0-9]{6,8}$'
                      required:
                        - bitLength
                        - gNBValue
                    ngeNbId:
                      type: string
                      pattern: >-
                        ^(MacroNGeNB-[A-Fa-f0-9]{5}|LMacroNGeNB-[A-Fa-f0-9]{6}|SMacroNGeNB-[A-Fa-f0-9]{5})$
                  oneOf:
                    - required:
                        - n3IwfId
                    - required:
                        - gNbId
                    - required:
                        - ngeNbId
                  required:
                    - plmnId
              required:
                - tai
                - ecgi
            nrLocation:
              type: object
              properties:
                tai:
                  type: object
                  properties:
                    plmnId:
                      type: object
                      properties:
                        mcc:
                          type: string
                          pattern: '^\d{3}$'
                        mnc:
                          type: string
                          pattern: '^\d{2,3}$'
                      required:
                        - mcc
                        - mnc
                    tac:
                      type: string
                      pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                  required:
                    - plmnId
                    - tac
                ncgi:
                  type: object
                  properties:
                    plmnId:
                      type: object
                      properties:
                        mcc:
                          type: string
                          pattern: '^\d{3}$'
                        mnc:
                          type: string
                          pattern: '^\d{2,3}$'
                      required:
                        - mcc
                        - mnc
                    nrCellId:
                      type: string
                      pattern: '^[A-Fa-f0-9]{9}$'
                  required:
                    - plmnId
                    - nrCellId
                ageOfLocationInformation:
                  type: integer
                  minimum: 0
                  maximum: 32767
                ueLocationTimestamp:
                  format: date-time
                  type: string
                geographicalInformation:
                  type: string
                  pattern: '^[0-9A-F]{16}$'
                geodeticInformation:
                  type: string
                  pattern: '^[0-9A-F]{20}$'
                globalGnbId:
                  type: object
                  properties:
                    plmnId:
                      type: object
                      properties:
                        mcc:
                          type: string
                          pattern: '^\d{3}$'
                        mnc:
                          type: string
                          pattern: '^\d{2,3}$'
                      required:
                        - mcc
                        - mnc
                    n3IwfId:
                      type: string
                      pattern: '^[A-Fa-f0-9]+$'
                    gNbId:
                      type: object
                      properties:
                        bitLength:
                          type: integer
                          minimum: 22
                          maximum: 32
                        gNBValue:
                          type: string
                          pattern: '^[A-Fa-f0-9]{6,8}$'
                      required:
                        - bitLength
                        - gNBValue
                    ngeNbId:
                      type: string
                      pattern: >-
                        ^(MacroNGeNB-[A-Fa-f0-9]{5}|LMacroNGeNB-[A-Fa-f0-9]{6}|SMacroNGeNB-[A-Fa-f0-9]{5})$
                  oneOf:
                    - required:
                        - n3IwfId
                    - required:
                        - gNbId
                    - required:
                        - ngeNbId
                  required:
                    - plmnId
              required:
                - tai
                - ncgi
            n3gaLocation:
              type: object
              properties:
                n3gppTai:
                  type: object
                  properties:
                    plmnId:
                      type: object
                      properties:
                        mcc:
                          type: string
                          pattern: '^\d{3}$'
                        mnc:
                          type: string
                          pattern: '^\d{2,3}$'
                      required:
                        - mcc
                        - mnc
                    tac:
                      type: string
                      pattern: '(^[A-Fa-f0-9]{4}$)|(^[A-Fa-f0-9]{6}$)'
                  required:
                    - plmnId
                    - tac
                n3IwfId:
                  type: string
                  pattern: '^[A-Fa-f0-9]+$'
                ueIpv4Addr:
                  type: string
                  pattern: >-
                    ^(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$
                  example: 198.51.100.1
                ueIpv6Addr:
                  type: string
                  allOf:
                    - pattern: >-
                        ^((:|(0?|([1-9a-f][0-9a-f]{0,3}))):)((0?|([1-9a-f][0-9a-f]{0,3})):){0,6}(:|(0?|([1-9a-f][0-9a-f]{0,3})))$
                    - pattern: >-
                        ^((([^:]+:){7}([^:]+))|((([^:]+:)*[^:]+)?::(([^:]+:)*[^:]+)?))$
                  example: '2001:db8:85a3::8a2e:370:7334'
                portNumber:
                  type: integer
                  minimum: 0
        ueTimeZone:
          type: string
    RecordId:
      type: string
    SmsRecordDeliveryData:
      type: object
      required:
        - smsRecordId
        - deliveryStatus
      properties:
        smsRecordId:
          type: string
        deliveryStatus:
          type: string
          enum:
            - SMS_DELIVERY_PENDING
            - SMS_DELIVERY_COMPLETED
            - SMS_DELIVERY_FAILED
    SmsDeliveryStatus:
      type: string
      enum:
        - SMS_DELIVERY_PENDING
        - SMS_DELIVERY_COMPLETED
        - SMS_DELIVERY_FAILED
externalDocs:
  description: 3GPP TS 29.540 V15.3.0; 5G System; SMS Services; Stage 3
  url: 'http://www.3gpp.org/ftp/Specs/archive/29_series/29.540/'
